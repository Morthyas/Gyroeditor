<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Gyro Editor – Blbůstka 😁</title>
  <style>
    body { background:#111; color:#fff; text-align:center; font-family:Arial; }
    img { width:90%; max-width:600px; margin-top:20px; transition:filter 0.1s linear; }
    #info { margin-top:20px; font-size:1.2em; }
  </style>
</head>
<body>
  <h1>Gyro Editor</h1>
  <p>Nakláněním měníš <span id="modeName">jas</span> – kliknutím přepínáš režimy.</p>
  <img id="photo" src="https://picsum.photos/800/500" alt="Obrázek">
  <div id="info">Jas: 100%</div>

  <script>
    let brightness = 100, contrast = 100, saturate = 100;
    const img = document.getElementById("photo");
    const info = document.getElementById("info");
    const modeName = document.getElementById("modeName");
    let mode = 0; // 0=jas, 1=kontrast, 2=saturace
    const modeLabels = ["jas", "kontrast", "saturaci"];

    function updateFilter() {
      img.style.filter = `brightness(${brightness}%) contrast(${contrast}%) saturate(${saturate}%)`;
    }

    window.addEventListener('deviceorientation', (event) => {
      let tilt = event.gamma;
      if (tilt !== null) {
        let value = Math.min(200, Math.max(0, 100 + tilt));
        if (mode === 0) brightness = value;
        if (mode === 1) contrast = value;
        if (mode === 2) saturate = value;
        updateFilter();
        info.textContent = `${modeLabels[mode][0].toUpperCase() + modeLabels[mode].slice(1)}: ${Math.round(value)}%`;
      }
    });

    img.addEventListener('click', () => {
      mode = (mode + 1) % 3;
      modeName.textContent = modeLabels[mode];
    });
  </script>
</body>
</html>